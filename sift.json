{
  "name": "sift-pixel-tracker",
  "display-name": "Tracked Mail",
  "description": "Find out who is sending you emails with hidden trackers. Even before you open them.",
  "version": "1.0.0",
  "author": "Deepak Prabhakara",
  "subtitle": "Take back your privacy",
  "icon": "assets/icon.svg",
  "marketing": {
    "screenshots": [
      "assets/screenshot-0b.png",
      "assets/screenshot-1.png",
      "assets/screenshot-2.png",
      "assets/screenshot-3.png"
    ],
    "links": [
      {
        "label": "Github",
        "type": "github",
        "url": "https://github.com/redsift/sift-pixel-tracker"
      }
    ]
  },
  "interfaces": {
    "email": {
      "thread": {
        "controller": "dist/js/controller.umd-es2015.js"
      },
      "client": {
        "controller": "dist/js/email-client-controller.umd-es2015.js"
      }
    },
    "summary": {
      "controller": "dist/js/controller.umd-es2015.js"
    }
  },
  "dag": {
    "inputs": {
      "emails": {
        "all": {
          "filter": {
            "conditions": [
              {
                "date": "between now and 1 month before now"
              }
            ]
          },
          "wants": [
            "archive",
            "htmlBody"
          ]
        }
      }
    },
    "nodes": [
      {
        "#": "Parse",
        "implementation": {
          "javascript": "server/parser.js"
        },
        "input": {
          "bucket": "all"
        },
        "outputs": {
          "tidList": {},
          "months": {}
        }
      },
      {
        "#": "Monthly Sender Domains",
        "implementation": {
          "javascript": "server/senderdomains.js"
        },
        "input": {
          "bucket": "months",
          "select": "$month/*"
        },
        "outputs": {
          "senderdomains": {}
        }
      }
    ],
    "stores": {
      "months": {
        "key$schema": "string/string"
      }
    },
    "outputs": {
      "exports": {
        "tidList": {
          "import": "_email.tid"
        },
        "senderdomains": {
          "key$schema": "string"
        }
      }
    }
  }
}